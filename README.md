# macOS Finder Tag 기반 사진 파일 복사 스크립트

이 스크립트는 macOS의 Finder에서 지정한 태그를 기반으로, 사진 파일들을 분류하여 복사하는 도구입니다.  
특히, 찍은 사진 파일 중 JPG 파일에 본인만의 분류 기준에 따라 태그를 지정해두면, 해당 태그에 맞게 파일(및 관련 RAW 파일들)을 지정한 디렉터리로 복사해 줍니다.

## 사전 준비 사항

- **사진 파일 태깅:**  
  사진 파일(특히 JPG 파일)을 Finder에서 본인만의 분류 기준(예: `여행`, `가족`, `풍경` 등)에 따라 태그로 지정해야 합니다.

- **환경:**  
  - macOS 운영체제  
  - Bash 쉘 (스크립트 실행에 사용)  
  - 기본 명령어: `mdls`, `find`, `cp`, `cmp`

## 기능

1. **태그별 파일 분류**  
   - 대상 디렉터리 내의 파일에서 Finder 태그 정보를 읽어, 각 태그 이름의 하위 폴더를 생성하고 복사합니다.

2. **RAW 파일 처리**  
   - 각 JPG 파일과 동일한 기본 이름을 가진 RAW 파일(예: `.raw`, `.dng`, `.arw` 등)이 있다면, 해당 RAW 파일도 별도의 RAW 디렉터리로 복사합니다.

3. **중복 파일 검사**  
   - 동일 파일명이 존재할 경우, 파일 내용을 비교하여 동일한 파일이면 복사를 건너뛰고, 다른 파일이면 파일명에 `-숫자` suffix를 추가하여 복사합니다.  
   - suffix 숫자는 기존 복사본들 중 마지막 번호 다음 숫자로 지정됩니다.

4. **진행 상황 표시**  
   - 전체 파일 수를 미리 계산한 후, 처리하는 동안 진행 상황(현재 몇 개의 파일을 처리했는지)을 터미널에 출력합니다.

5. **이미 복사된 파일 건너뛰기**  
   - `DEST_DIR`와 `TARGET_DIR`가 동일한 경우, 스크립트로 이미 복사된 파일은 다시 처리하지 않습니다.

## 사용 방법

터미널에서 아래와 같이 실행합니다:

```bash
./copy_by_tags-macos.sh TARGET_DIR [DEST_DIR] [RAW_DIR]